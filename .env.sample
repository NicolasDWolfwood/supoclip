# SupoClip Environment Configuration
# Copy this file and fill in your API keys
# Canonical variable reference: docs/config.md

# ==============================================
# AI Provider API Keys (Required for video processing)
# ==============================================

# AssemblyAI - Optional (only needed when TRANSCRIPTION_PROVIDER=assemblyai)
ASSEMBLY_AI_API_KEY=

# Choose one AI provider for transcript analysis:
# OpenAI (recommended: gpt-4.1, gpt-5)
OPENAI_API_KEY=

# Google AI (gemini-2.5-pro)
GOOGLE_API_KEY=

# Anthropic (claude-3-opus, claude-3-sonnet, claude-3-haiku)
ANTHROPIC_API_KEY=

# ==============================================
# AI Model Configuration
# ==============================================

# Format: "provider:model-name"
# Examples:
#   - openai:gpt-4.1
#   - openai:gpt-5
#   - anthropic:claude-4-sonnet
#   - google:gemini-2.5-pro
LLM=openai:gpt-5-mini

# Whisper model size (tiny, base, small, medium, large)
# Larger models are more accurate but slower
WHISPER_MODEL_SIZE=medium

# Whisper device:
# - auto (default): use CUDA when available, otherwise CPU
# - cuda: force GPU (falls back to CPU if unavailable)
# - cpu: force CPU
WHISPER_DEVICE=auto

# Transcription provider:
# - local (default): run Whisper locally, no remote transcript upload
# - assemblyai: use AssemblyAI API for transcription
TRANSCRIPTION_PROVIDER=local

# Worker concurrency (lower is safer for local Whisper on CPU)
WORKER_MAX_JOBS=2

# ==============================================
# Authentication
# ==============================================

# Better Auth secret (change this in production!)
# Generate a secure random string for production
BETTER_AUTH_SECRET=supoclip_dev_secret_change_in_production

# Optional admin key for destructive backend admin endpoints
# (e.g. POST /tasks/admin/cancel-all with x-admin-key header)
ADMIN_API_KEY=

# ==============================================
# Database Configuration
# ==============================================

# PostgreSQL credentials (matches docker-compose.yml)
POSTGRES_DB=supoclip
POSTGRES_USER=supoclip
POSTGRES_PASSWORD=supoclip_password

# ==============================================
# Docker Performance
# ==============================================

# Enable BuildKit for faster Docker builds
COMPOSE_DOCKER_CLI_BUILD=1
DOCKER_BUILDKIT=1

# Docker GPU request:
# - all (default): request all available GPUs for backend/worker
# - 0: disable GPU request and run on CPU
DOCKER_GPU_REQUEST=all

# Optional host directory for Whisper model cache bind mount
# Avoids redownloading models after container rebuilds.
WHISPER_CACHE_HOST_DIR=./backend/.cache/whisper
